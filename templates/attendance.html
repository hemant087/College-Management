{% extends "base.html" %}

{% block content %}

<form action="{% url 'attendance' %}" method="POST" id="attn-form">
    {% csrf_token %}
    <div class="mb-3">
        <label for="selected_date" class="form-label">Select Date:</label>
        <input type="date" class="form-control" id="selected_date" name="selected_date" required value="{{ selected_date }}">
    </div>
    <button type="submit" class="btn btn-outline-success">Show Attendance</button>
</form>

<div class="container mt-5">
    {% if no_data %}
    <div class="alert alert-warning" role="alert">
        No attendance data available for the selected date.
    </div>
    {% endif %}

    <h2>Attendance Data Table</h2>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Time</th>
            </tr>
        </thead>
        <tbody>
            {% for name, time in attendance_data %}
            <tr>
                <td>{{ name }}</td>
                <td>{{ time }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock content %}
